From 10d9653888ae7c3cb2813f79f845c5ce89740a0b Mon Sep 17 00:00:00 2001
From: Timo Juhani Lindfors <timo.lindfors@iki.fi>
Date: Thu, 18 Aug 2011 13:57:03 -0400
Subject: [PATCH 1/2] debian bug#604453: add more items to kprobe blacklist

---
 dwflpp.cxx |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

Author: Timo Juhani Lindfors <timo.lindfors@iki.fi>
Applied-Upstream: http://sources.redhat.com/git/gitweb.cgi?p=systemtap.git;a=commit;h=10d9653888ae7c3cb2813f79f845c5ce89740a0b
Bug-Debian: http://bugs.debian.org/604453

--- a/dwflpp.cxx
+++ b/dwflpp.cxx
@@ -2983,6 +2983,23 @@
   blfn += "|sync_regs";
   blfn += "|unhandled_fault";
   blfn += "|unknown_nmi_error";
+  blfn += "|xen_set_debugreg";
+  blfn += "|xen_get_debugreg";
+  blfn += "|xen_irq_enable_direct_reloc";
+  blfn += "|xen_irq_disable_direct";
+  blfn += "|xen_irq_disable_direct_end";
+  blfn += "|xen_save_fl_direct";
+  blfn += "|xen_restore_fl_direct_reloc";
+  blfn += "|check_events";
+  blfn += "|xen_adjust_exception_frame";
+  blfn += "|xen_iret";
+  blfn += "|xen_iret_reloc";
+  blfn += "|xen_sysret64";
+  blfn += "|xen_sysret64_reloc";
+  blfn += "|test_ti_thread_flag.clone.16";
+  blfn += "|hash_ptr.clone.12";
+  blfn += "|inat_get_opcode_attribute";
+  blfn += "|system_call_after_swapgs";
 
   // Lots of locks
   blfn += "|.*raw_.*lock.*";
